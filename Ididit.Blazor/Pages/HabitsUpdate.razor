@page "/habits/{Id:long}/update"

@using Ididit.Data.Models
@using Ididit.Services

@inject HabitService HabitService

<h3>HabitsUpdate</h3>

@if (HabitService.EditHabit is not null)
{
    <div>
        <label for="titleInput">Title:</label>
        <input id="titleInput" type="text" @bind="HabitService.EditHabit.Title" />

        <button @onclick="HabitService.UpdateHabit">Update Habit</button>
    </div>
}

@code {
    [Parameter]
    public long? Id { get; set; }

    protected override void OnParametersSet()
    {
        HabitService.EditHabit = HabitService.Habits?.FirstOrDefault(h => h.Id == Id);
    }
}